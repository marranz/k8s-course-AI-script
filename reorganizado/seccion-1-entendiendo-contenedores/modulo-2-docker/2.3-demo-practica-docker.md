# 2.3 Demostración Práctica con Docker

## Instalación

### Instalar Docker en un Servidor
- Instrucciones para instalación en Linux
- Configuración del daemon
- Verificación de la instalación

### Instalar Docker Desktop en un Ordenador
- Descarga e instalación
- Configuración inicial
- Interfaz gráfica

## Comandos Básicos de Docker

### docker run
Ejecutar un contenedor básico
```bash
docker run hello-world
docker run -it ubuntu bash
```

### Gestión de Imágenes

#### docker pull
Descargar imágenes del registro
```bash
docker pull nginx
docker pull python:3.9
```

#### docker images
Listar imágenes locales
```bash
docker images
```

### Gestión de Contenedores

#### docker ps
Listar contenedores en ejecución
```bash
docker ps
docker ps -a  # Incluye contenedores parados
```

#### docker exec
Interactuar con un contenedor en ejecución
```bash
docker exec -it <container_id> bash
docker exec <container_id> ls /app
```

#### docker stop
Detener un contenedor
```bash
docker stop <container_id>
```

#### docker rm
Eliminar un contenedor
```bash
docker rm <container_id>
docker rm -f <container_id>  # Forzar eliminación
```

## Construcción de Imágenes

### Ejemplo de Dockerfile

Ejemplo sencillo de un Dockerfile para una aplicación web mínima:

```dockerfile
# Usar una imagen base
FROM nginx:alpine

# Copiar archivos al contenedor
COPY index.html /usr/share/nginx/html/

# Exponer el puerto
EXPOSE 80

# Comando por defecto (ya incluido en la imagen base)
CMD ["nginx", "-g", "daemon off;"]
```

### docker build
Construir una imagen desde un Dockerfile
```bash
docker build -t mi-web:1.0 .
docker build -t mi-web:latest -f Dockerfile.prod .
```

## Trabajar con Docker Hub

### Loguearse en Docker Hub desde el CLI
```bash
docker login
# Introducir usuario y contraseña
```

### docker push
Subir una imagen al registro (opcional, para demostrar el concepto de registro)
```bash
docker tag mi-web:1.0 usuario/mi-web:1.0
docker push usuario/mi-web:1.0
```

## Ejercicios Prácticos

1. Ejecutar un contenedor de nginx y acceder a él desde el navegador
2. Crear un Dockerfile simple para una aplicación web
3. Construir y ejecutar la imagen creada
4. Modificar el contenido y reconstruir
5. Subir la imagen a Docker Hub
