# 2.2 Arquitectura de Docker

## Componentes Principales

### Docker Daemon (dockerd): El "cerebro" de Docker

Para poder gestionar contenedores lo primero que necesitamos es el **Daemon de Docker**, Docker instalado en nuestro sistema. Este proceso se va a encargar de:
- La gestión y ejecución de los contenedores
- Todas las operaciones fundamentales de Docker:
  - Creación de imágenes
  - Ejecución de contenedores
  - Gestión de su ciclo de vida
  - Configuración de red
  - Almacenamiento

### Docker CLI: La interfaz de línea de comandos

Para interactuar con el demonio de Docker, lo común es usar la **línea de comandos** o el **Docker CLI**, que nos permitirá:
- La gestión de todos estos recursos antes mencionados
- Convirtiendo nuestras órdenes en llamadas a la API del daemon

### Docker Desktop

Desde hace unos años, para entornos de escritorio donde queramos utilizar Docker, existe **Docker Desktop**, una aplicación que nos permite:
- Gestionar de una forma sencilla y visual tanto contenedores como imágenes
- Gestionar el demonio y la línea de comandos en una única pantalla
- Loguearnos a un registro de Docker
- Desplegar entornos multi contenedor con Docker Compose
- Desde hace no mucho, también desplegar entornos locales Kubernetes

## Docker Images

### Construcción (Dockerfile)
Las imágenes se construyen a partir de un archivo de texto llamado `Dockerfile` que contiene todas las instrucciones para crear la imagen.

### Gestión
Docker proporciona comandos para gestionar el ciclo de vida completo de las imágenes:
- Construcción
- Listado
- Eliminación
- Etiquetado

### Registro (Docker Hub)
El concepto de **registro de imágenes** es fundamental en el ecosistema de Docker y uno de los puntos clave que hizo que Docker se convirtiera en lo que es hoy.

## Registro de Imágenes y Docker Hub

Otro concepto clave es el **registro de imágenes**. El registro es un concepto fundamental en el ecosistema de Docker y uno de los puntos clave que hizo que Docker se convirtiera en lo que es hoy.

### ¿Qué es un Registro?

Cualquier empresa o particular puede:
- Crear sus propias imágenes
- Subirlas a un registro (de forma pública o privada)
- Hacerlas accesibles online

Esto hace que esa imagen podrá ser obtenida por:
- Cualquier persona con la que queramos compartirla
- Nosotros mismos si quisiéramos descargarla en varios servidores

### Docker Hub

Existen varias empresas que ofrecen el servicio de registro, pero para no salir del ecosistema oficial, usaremos **Docker Hub** de momento.

**Docker Hub es donde podremos:**
- Almacenar nuestras imágenes
- Bajarnos imágenes de terceros oficiales para poder trabajar con ellas

El concepto de registro de imágenes de contenedores es fundamental para el ecosistema Docker, ya que facilita:
- La distribución
- El almacenamiento
- La gestión de las imágenes

### Funcionalidades Modernas de Docker Hub

En los últimos años, Docker Hub incluye funcionalidades extra como:
- La creación automática de imágenes desde ficheros de definición `Dockerfile`
- Integración con repositorios de código:
  - GitHub
  - BitBucket

## Docker Containers: Ciclo de Vida

Los contenedores son instancias en ejecución de imágenes. Su ciclo de vida incluye:

1. **Crear** - Crear un contenedor a partir de una imagen
2. **Iniciar** - Arrancar un contenedor
3. **Detener** - Parar un contenedor en ejecución
4. **Eliminar** - Borrar un contenedor

Cada una de estas operaciones se gestiona mediante comandos específicos del Docker CLI.
