# 1.1 Beneficios de los contenedores y comparación con bare metal y VMs

## El Problema: "Funciona en mi máquina"

Un problema común es que nuestra aplicación funcione perfectamente en nuestro entorno local, pero cuando nos la llevamos a los entornos de producción o los servidores donde van a estar alojados empezamos a tener problemas. Esos problemas muchas veces son por dependencias. Diferentes versiones de librerías, motores de ejecución de nuestro lenguaje, etc.

Esto hace que los tiempos de depuración y arreglar esos errores sean más largos de lo deseado. Lo que conocemos como el "Funciona en mi máquina", es decir, la aplicación funciona perfectamente en mi entorno local pero una vez quiero subirlo a los servidores, ya es otra historia.

## La Solución con Contenedores

Este es uno de los problemas que vamos a solucionar usando contenedores. Lo que tenemos en nuestro entorno local va a ser una copia exacta de lo que vamos a tener en nuestros servidores. No solo en cuanto a código y versiones de librerías dentro de nuestro framework, sino también de librerías del sistema. Además de esto tenemos otras ventajas, esta vez en el lado del uso de recursos.

## Bare Metal vs Máquinas Virtuales vs Contenedores: Una Comparativa

### Bare Metal (Servidores Físicos)

Históricamente, el despliegue de aplicaciones se hacía directamente en un servidor físico, preparado para alojar nuestra aplicación, es decir, que tenía instalado el motor que hacía que nuestra aplicación pudiera ejecutarse.

**Ventajas:**
- Máximo rendimiento con hardware dedicado

**Desventajas:**
- Problemas a la hora de escalar el hardware
- Necesidad de parar la máquina para actualizaciones físicas (agregar memoria, etc.)

### Máquinas Virtuales

Este tipo de problemas fueron solucionados con la popularización de las máquinas virtuales, donde el hardware completo que da soporte a un sistema operativo es virtualizado, pudiendo configurar máquinas virtuales por cada una de nuestras aplicaciones e incluso pudiendo cambiar sus especificaciones a golpe de click. Más memoria, más CPU o lo que necesitáramos.

**Ventaja principal:**
- **Consolidación de recursos:** En lugar de tener una máquina física con 32 GB de RAM y ocho núcleos de procesador para hostear nuestra aplicación, disponemos de esos recursos para crear diferentes máquinas virtuales más pequeñas donde cada una ejecutará un sistema operativo completo con los recursos mínimos que necesitemos. Así aprovechamos mucho más los recursos.

### Contenedores

Después llegaron los contenedores, donde en lugar de ejecutar un sistema operativo completo en una máquina virtual, solo ejecutamos una copia del proceso principal que hará que nuestra aplicación pueda estar corriendo. Con esto conseguimos consolidar los recursos aún mucho más, eliminando lo que conocemos como el **overhead del sistema operativo**, es decir, esos recursos que necesitamos consumir solo para que un sistema operativo completo esté corriendo, cuando de esa máquina virtual, en realidad, solo necesitamos un par de cosas, que es el proceso que da servicio a nuestra aplicación.

Los contenedores ofrecen un enfoque mucho más ligero y eficiente para aislar las aplicaciones ahorrando virtualizar todo el hardware de un servidor físico y simplemente compartiendo esas funciones desde el núcleo o kernel del sistema operativo anfitrión.

**Tecnologías clave:**
El aislamiento de recursos se logra utilizando características modernas del kernel de Linux, como:
- **cgroups:** Control de grupos de procesos y limitación de recursos
- **namespaces:** Aislamiento de procesos de red, sistemas de ficheros, etc.

Estas tecnologías permiten optimizar la gestión de recursos y aislar los procesos de forma segura y eficiente.
